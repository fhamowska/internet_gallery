{% extends 'admin_base.twig' %}

{% block title %}
    Add Artwork
{% endblock %}

{% block content %}
    <h1>Add Artwork</h1>
    <form action="add_artwork.php" method="post" enctype="multipart/form-data">
        <label for="title">Title:</label>
        <input type="text" name="title" id="title" required><br>

        <label for="artistId">Artist:</label>
        <select name="artistId" id="artistId" required>
            <option value="">Select an artist</option>
            {% for artist in artists %}
                <option value="{{ artist.id }}">{{ artist.first_name }} {{ artist.last_name }}</option>
            {% endfor %}
        </select><br>

        <label for="genreId">Genre:</label>
        <select name="genreId" id="genreId" required>
            <option value="">Select a genre</option>
            {% for genre in genres %}
                <option value="{{ genre.id }}">{{ genre.name }}</option>
            {% endfor %}
        </select><br>

        <label for="creationYear">Creation Year:</label>
        <input type="number" name="creationYear" id="creationYear" min="0"><br>

        <label for="dimensions">Dimensions:</label>
        <input type="text" name="dimensions" id="dimensions"><br>

        <label for="image">Image:</label>
        <input type="file" name="image" id="image" required>
        <img id="imagePreview" src="#" alt="Image Preview" style="display: none; max-width: 200px;"><br>

        <label for="altText">Alt Text:</label>
        <input type="text" name="altText" id="altText" required><br>

        <button type="submit">Add Artwork</button>
    </form>

    <script>
        document.getElementById('image').addEventListener('change', function(event) {
            var input = event.target;
            var reader = new FileReader();
            reader.onload = function() {
                var img = document.getElementById('imagePreview');
                img.src = reader.result;
                img.style.display = 'block';
            };
            reader.readAsDataURL(input.files[0]);
        });
    </script>
{% endblock %}
